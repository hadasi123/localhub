{"ast":null,"code":"// News hook for LocalHub - Business Logic Layer\nimport{useState,useEffect,useCallback}from'react';import newsService from'../services/newsService';export const useNews=()=>{const[news,setNews]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const fetchNews=useCallback(async()=>{setLoading(true);setError(null);try{const data=await newsService.getNews();setNews(data);}catch(err){setError('Failed to fetch news data.');console.error(err);}finally{setLoading(false);}},[]);useEffect(()=>{fetchNews();},[fetchNews]);const refreshNews=useCallback(()=>{fetchNews();},[fetchNews]);const formatDate=useCallback(dateString=>{return newsService.formatDate(dateString);},[]);const truncateText=useCallback((text,maxLength)=>{return newsService.truncateText(text,maxLength);},[]);const getRecentArticles=useCallback(function(){let count=arguments.length>0&&arguments[0]!==undefined?arguments[0]:5;if(!news||!news.articles)return[];return news.articles.slice(0,count);},[news]);return{news,loading,error,refreshNews,formatDate,truncateText,getRecentArticles};};","map":{"version":3,"names":["useState","useEffect","useCallback","newsService","useNews","news","setNews","loading","setLoading","error","setError","fetchNews","data","getNews","err","console","refreshNews","formatDate","dateString","truncateText","text","maxLength","getRecentArticles","count","arguments","length","undefined","articles","slice"],"sources":["/Users/hadascohen/experiments/localhub/src/hooks/useNews.js"],"sourcesContent":["// News hook for LocalHub - Business Logic Layer\n\nimport { useState, useEffect, useCallback } from 'react';\nimport newsService from '../services/newsService';\n\nexport const useNews = () => {\n  const [news, setNews] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchNews = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const data = await newsService.getNews();\n      setNews(data);\n    } catch (err) {\n      setError('Failed to fetch news data.');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchNews();\n  }, [fetchNews]);\n\n  const refreshNews = useCallback(() => {\n    fetchNews();\n  }, [fetchNews]);\n\n  const formatDate = useCallback((dateString) => {\n    return newsService.formatDate(dateString);\n  }, []);\n\n  const truncateText = useCallback((text, maxLength) => {\n    return newsService.truncateText(text, maxLength);\n  }, []);\n\n  const getRecentArticles = useCallback((count = 5) => {\n    if (!news || !news.articles) return [];\n    return news.articles.slice(0, count);\n  }, [news]);\n\n  return {\n    news,\n    loading,\n    error,\n    refreshNews,\n    formatDate,\n    truncateText,\n    getRecentArticles\n  };\n};\n"],"mappings":"AAAA;AAEA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CACxD,MAAO,CAAAC,WAAW,KAAM,yBAAyB,CAEjD,MAAO,MAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGN,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACO,OAAO,CAAEC,UAAU,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAW,SAAS,CAAGT,WAAW,CAAC,SAAY,CACxCM,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACd,GAAI,CACF,KAAM,CAAAE,IAAI,CAAG,KAAM,CAAAT,WAAW,CAACU,OAAO,CAAC,CAAC,CACxCP,OAAO,CAACM,IAAI,CAAC,CACf,CAAE,MAAOE,GAAG,CAAE,CACZJ,QAAQ,CAAC,4BAA4B,CAAC,CACtCK,OAAO,CAACN,KAAK,CAACK,GAAG,CAAC,CACpB,CAAC,OAAS,CACRN,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,EAAE,CAAC,CAENP,SAAS,CAAC,IAAM,CACdU,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAK,WAAW,CAAGd,WAAW,CAAC,IAAM,CACpCS,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAM,UAAU,CAAGf,WAAW,CAAEgB,UAAU,EAAK,CAC7C,MAAO,CAAAf,WAAW,CAACc,UAAU,CAACC,UAAU,CAAC,CAC3C,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,YAAY,CAAGjB,WAAW,CAAC,CAACkB,IAAI,CAAEC,SAAS,GAAK,CACpD,MAAO,CAAAlB,WAAW,CAACgB,YAAY,CAACC,IAAI,CAAEC,SAAS,CAAC,CAClD,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,iBAAiB,CAAGpB,WAAW,CAAC,UAAe,IAAd,CAAAqB,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAC9C,GAAI,CAACnB,IAAI,EAAI,CAACA,IAAI,CAACsB,QAAQ,CAAE,MAAO,EAAE,CACtC,MAAO,CAAAtB,IAAI,CAACsB,QAAQ,CAACC,KAAK,CAAC,CAAC,CAAEL,KAAK,CAAC,CACtC,CAAC,CAAE,CAAClB,IAAI,CAAC,CAAC,CAEV,MAAO,CACLA,IAAI,CACJE,OAAO,CACPE,KAAK,CACLO,WAAW,CACXC,UAAU,CACVE,YAAY,CACZG,iBACF,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}