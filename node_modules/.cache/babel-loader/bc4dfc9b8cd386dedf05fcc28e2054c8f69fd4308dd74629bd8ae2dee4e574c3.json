{"ast":null,"code":"// Weather hook - Business Logic Layer\nimport{useState,useEffect}from'react';import weatherService from'../services/weatherService';export const useWeather=()=>{const[weather,setWeather]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const fetchWeather=async()=>{try{setLoading(true);setError(null);const weatherData=await weatherService.getCurrentWeather();setWeather(weatherData);}catch(err){setError(err.message);console.error('Error fetching weather:',err);}finally{setLoading(false);}};const refreshWeather=()=>{fetchWeather();};const getWeatherIcon=weatherType=>{return weatherService.getWeatherIcon(weatherType);};const formatTemperature=temp=>{return weatherService.formatTemperature(temp);};const getWeatherDescription=weather=>{return weatherService.getWeatherDescription(weather);};useEffect(()=>{fetchWeather();// Refresh weather every 10 minutes\nconst interval=setInterval(fetchWeather,10*60*1000);return()=>clearInterval(interval);},[]);return{weather,loading,error,refreshWeather,getWeatherIcon,formatTemperature,getWeatherDescription};};","map":{"version":3,"names":["useState","useEffect","weatherService","useWeather","weather","setWeather","loading","setLoading","error","setError","fetchWeather","weatherData","getCurrentWeather","err","message","console","refreshWeather","getWeatherIcon","weatherType","formatTemperature","temp","getWeatherDescription","interval","setInterval","clearInterval"],"sources":["/Users/hadascohen/experiments/localhub/src/hooks/useWeather.js"],"sourcesContent":["// Weather hook - Business Logic Layer\n\nimport { useState, useEffect } from 'react';\nimport weatherService from '../services/weatherService';\n\nexport const useWeather = () => {\n  const [weather, setWeather] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchWeather = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const weatherData = await weatherService.getCurrentWeather();\n      setWeather(weatherData);\n    } catch (err) {\n      setError(err.message);\n      console.error('Error fetching weather:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const refreshWeather = () => {\n    fetchWeather();\n  };\n\n  const getWeatherIcon = (weatherType) => {\n    return weatherService.getWeatherIcon(weatherType);\n  };\n\n  const formatTemperature = (temp) => {\n    return weatherService.formatTemperature(temp);\n  };\n\n  const getWeatherDescription = (weather) => {\n    return weatherService.getWeatherDescription(weather);\n  };\n\n  useEffect(() => {\n    fetchWeather();\n    \n    // Refresh weather every 10 minutes\n    const interval = setInterval(fetchWeather, 10 * 60 * 1000);\n    \n    return () => clearInterval(interval);\n  }, []);\n\n  return {\n    weather,\n    loading,\n    error,\n    refreshWeather,\n    getWeatherIcon,\n    formatTemperature,\n    getWeatherDescription\n  };\n};\n"],"mappings":"AAAA;AAEA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,cAAc,KAAM,4BAA4B,CAEvD,MAAO,MAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGL,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACM,OAAO,CAAEC,UAAU,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAU,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACFH,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACd,KAAM,CAAAE,WAAW,CAAG,KAAM,CAAAT,cAAc,CAACU,iBAAiB,CAAC,CAAC,CAC5DP,UAAU,CAACM,WAAW,CAAC,CACzB,CAAE,MAAOE,GAAG,CAAE,CACZJ,QAAQ,CAACI,GAAG,CAACC,OAAO,CAAC,CACrBC,OAAO,CAACP,KAAK,CAAC,yBAAyB,CAAEK,GAAG,CAAC,CAC/C,CAAC,OAAS,CACRN,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAS,cAAc,CAAGA,CAAA,GAAM,CAC3BN,YAAY,CAAC,CAAC,CAChB,CAAC,CAED,KAAM,CAAAO,cAAc,CAAIC,WAAW,EAAK,CACtC,MAAO,CAAAhB,cAAc,CAACe,cAAc,CAACC,WAAW,CAAC,CACnD,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAIC,IAAI,EAAK,CAClC,MAAO,CAAAlB,cAAc,CAACiB,iBAAiB,CAACC,IAAI,CAAC,CAC/C,CAAC,CAED,KAAM,CAAAC,qBAAqB,CAAIjB,OAAO,EAAK,CACzC,MAAO,CAAAF,cAAc,CAACmB,qBAAqB,CAACjB,OAAO,CAAC,CACtD,CAAC,CAEDH,SAAS,CAAC,IAAM,CACdS,YAAY,CAAC,CAAC,CAEd;AACA,KAAM,CAAAY,QAAQ,CAAGC,WAAW,CAACb,YAAY,CAAE,EAAE,CAAG,EAAE,CAAG,IAAI,CAAC,CAE1D,MAAO,IAAMc,aAAa,CAACF,QAAQ,CAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CACLlB,OAAO,CACPE,OAAO,CACPE,KAAK,CACLQ,cAAc,CACdC,cAAc,CACdE,iBAAiB,CACjBE,qBACF,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}